version = 3.8.3

runner.dialect = scala3

align.preset = some
align.tokens               = [{code = "=>", owner = "Case"}]
align.openParenDefnSite    = false
align.openParenCallSite    = false

docstrings.style           = SpaceAsterisk
indentOperator.preset      = "spray"
maxColumn                  = 120
rewrite.rules              = [RedundantParens, SortImports, AvoidInfix]
optIn.configStyleArguments = false
danglingParentheses.preset = false
spaces.inImportCurlyBraces = true
newlines.afterCurlyLambda  = preserve

rewrite.neverInfix.excludeFilters = [
  and
  min
  max
  until
  to
  by
  eq
  ne
  "should.*"
  "contain.*"
  "must.*"
  in
  ignore
  be
  taggedAs
  thrownBy
  synchronized
  have
  when
  size
  only
  noneOf
  oneElementOf
  noElementsOf
  atLeastOneElementOf
  atMostOneElementOf
  allElementsOf
  inOrderElementsOf
  theSameElementsAs
]
rewriteTokens = {
  "⇒": "=>"
  "→": "->"
  "←": "<-"
}

# Scala 2.12 modules (cloudflow-sbt-plugin, cloudflow-extractor, etc.) stay on Scala 2.12
fileOverride {
  "glob:**/cloudflow-sbt-plugin/**/*.{scala,sbt}" { runner.dialect = scala212 }
  "glob:**/cloudflow-extractor/**/*.scala" { runner.dialect = scala212 }
  "glob:**/cloudflow-build-support/**/*.scala" { runner.dialect = scala212 }
  "glob:**/cloudflow-cr-generator/**/*.scala" { runner.dialect = scala212 }
  "glob:**/cloudflow-maven-plugin/**/*.scala" { runner.dialect = scala212 }
}
